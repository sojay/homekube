version: v1alpha1
debug: false
persist: true
machine:
  type: controlplane
  token: h34rr2.xtis7lzh3lg4kbvw
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJQakNCOGFBREFnRUNBaEJXTjBIQVNJMkpjZFZFM2Q4RHNBY1BNQVVHQXl0bGNEQVFNUTR3REFZRFZRUUsKRXdWMFlXeHZjekFlRncweU5UQTFNRFV3TURBMU1qSmFGdzB6TlRBMU1ETXdNREExTWpKYU1CQXhEakFNQmdOVgpCQW9UQlhSaGJHOXpNQ293QlFZREsyVndBeUVBb1hiVVhoYmlOcktmRHYzQlg0TWpBWUh5ZXYycjl0WTJndklhCnVQcXhhRCtqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjREFRWUkKS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVUkFFRkdmWEQ1eWI1ODFGbQppcUdMT0hjWWVuc3dCUVlESzJWd0EwRUFWcHdFZ1pzRmVPTEJSZkNZWC9wK0Q0NE5CM014aXdnOVBjbEM2NkhMClgrZ2Q1MzdvSWxUbnhXMzhWTjZGZHEyZUhSREFOK2Nxd1ZoQ2pIY3RvT3ZMQ0E9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0KTUM0Q0FRQXdCUVlESzJWd0JDSUVJRnZHWmhQcUxwSnQ4N0NaVkZmTEpIT2RJMy9HdmdQTEdFK0dHMTUyVUFHUQotLS0tLUVORCBFRDI1NTE5IFBSSVZBVEUgS0VZLS0tLS0K
  certSANs:
    - 192.168.0.17
    - 127.0.0.1
  kubelet:
    image: ghcr.io/siderolabs/kubelet:v1.31.0
    extraArgs:
      rotate-server-certificates: "true"
    extraMounts:
      - destination: /var/openebs/local
        type: bind
        source: /var/openebs/local
        options:
          - bind
          - rshared
          - rw
    defaultRuntimeSeccompProfileEnabled: true
    nodeIP:
      validSubnets:
        - 192.168.0.140/25
    disableManifestsDirectory: true
  network:
    hostname: talos-controlplane
    interfaces:
      - deviceSelector:
          hardwareAddr: bc:24:11:28:33:6a
        addresses:
          - 192.168.0.234/25
        routes:
          - network: 0.0.0.0/0
            gateway: 192.168.0.1
        mtu: 1500
        dhcp: false
        vip:
          ip: 192.168.0.17
    disableSearchDomain: true
  install:
    disk: /dev/sda
    image: factory.talos.dev/installer/376567988ad370138ad8b2698212367b8edcb69b5fd68c80be1f2ec7d603b4ba:v1.8.0
    wipe: false
  files:
    - content: |-
        [plugins."io.containerd.grpc.v1.cri"]
          enable_unprivileged_ports = true
          enable_unprivileged_icmp = true
        [plugins."io.containerd.grpc.v1.cri".containerd]
          discard_unpacked_layers = false
        [plugins."io.containerd.grpc.v1.cri".containerd.runtimes.runc]
          discard_unpacked_layers = false
      permissions: 0o0
      path: /etc/cri/conf.d/20-customization.part
      op: create
  sysctls:
    fs.inotify.max_queued_events: "65536"
    fs.inotify.max_user_instances: "8192"
    fs.inotify.max_user_watches: "524288"
    net.core.rmem_max: "7500000"
    net.core.wmem_max: "7500000"
  features:
    rbac: true
    stableHostname: true
    kubernetesTalosAPIAccess:
      enabled: true
      allowedRoles:
        - os:admin
      allowedKubernetesNamespaces:
        - system-upgrade
    apidCheckExtKeyUsage: true
    diskQuotaSupport: true
    kubePrism:
      enabled: true
      port: 7445
    hostDNS:
      enabled: true
      forwardKubeDNSToHost: true
      resolveMemberNames: true
  nodeLabels:
    node.kubernetes.io/exclude-from-external-load-balancers: ""
cluster:
  id: WA0qghdhfSAZiYpo-wnIvNVJjz2VwuSFCjjJT8dwCnE=
  secret: amoYUl8dr4JK/NXnaaoWLo4NB3LzIfuE2YaG3QseS7c=
  controlPlane:
    endpoint: https://192.168.0.17:6443
  clusterName: home-kubernetes
  network:
    cni:
      name: none
    dnsDomain: cluster.local
    podSubnets:
      - 10.69.0.0/16
    serviceSubnets:
      - 10.96.0.0/16
  token: hraheq.ijacx2a694dsqw8k
  secretboxEncryptionSecret: UoHEvBSjptW3hWR5J1NLfv/ouzuQz2tpREpOnZ9eWXs=
  ca:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJpRENDQVMrZ0F3SUJBZ0lRZHlpVmZ4eVZXNExGaU52VnNKcjVHVEFLQmdncWhrak9QUVFEQWpBVk1STXcKRVFZRFZRUUtFd3ByZFdKbGNtNWxkR1Z6TUI0WERUSTFNRFV3TlRBd01EVXlNVm9YRFRNMU1EVXdNekF3TURVeQpNVm93RlRFVE1CRUdBMVVFQ2hNS2EzVmlaWEp1WlhSbGN6QlpNQk1HQnlxR1NNNDlBZ0VHQ0NxR1NNNDlBd0VICkEwSUFCRlg2R0hIS05XN3pyK3psdWgraUNpQ1JNa3pZYTFYMlhTb1VaUjQ1UTNJMUJPSktkVTcxR3BXL0lBZUIKNXh5MFYwWFZQUXdQZ2ZBTHFzZkVEQTVlejNpallUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWRCZ05WSFNVRQpGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZEJnTlZIUTRFCkZnUVVtWFZZTGU1MkxmN1BtOUdOTzJJZ1hIaDdlamd3Q2dZSUtvWkl6ajBFQXdJRFJ3QXdSQUlnSnNtTFZIZ0kKdWY0SHRmQ3VPVEpaRWo4Q3hLc2NZcTRwSTVseEhGa0RabDBDSUJPK01rVndYajJDZ2pyRlNsVnhXdFZ0eDZXdApJbDJ5NGEwSEVPeTl6SjAyCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSU5rOEdxTkhqRmlLNXRzc0RGOVVkeWhDOHZ1Z0ZVdElQbko2aW9rRWxkMFFvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFVmZvWWNjbzFidk92N09XNkg2SUtJSkV5VE5oclZmWmRLaFJsSGpsRGNqVUU0a3AxVHZVYQpsYjhnQjRIbkhMUlhSZFU5REErQjhBdXF4OFFNRGw3UGVBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  aggregatorCA:
    crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJYekNDQVFXZ0F3SUJBZ0lRRHI0SE9FTjhUd2dSNFVIWUdNblZRVEFLQmdncWhrak9QUVFEQWpBQU1CNFgKRFRJMU1EVXdOVEF3TURVeU1Wb1hEVE0xTURVd016QXdNRFV5TVZvd0FEQlpNQk1HQnlxR1NNNDlBZ0VHQ0NxRwpTTTQ5QXdFSEEwSUFCSFQ0SDZuekxkQW03L0VZWTZUVW1yMjZUeTN2c0FrY1JCOU5ZMkh1NklKbXI3T0ZCcml0CkFLUlFVbDZuQ29uQUhDNEFRdkorZFRldGsyQis0dUxkYTE2allUQmZNQTRHQTFVZER3RUIvd1FFQXdJQ2hEQWQKQmdOVkhTVUVGakFVQmdnckJnRUZCUWNEQVFZSUt3WUJCUVVIQXdJd0R3WURWUjBUQVFIL0JBVXdBd0VCL3pBZApCZ05WSFE0RUZnUVUzQ2lBa1dsUldLNlA0cFVja1hZSVJnV0ZxZW93Q2dZSUtvWkl6ajBFQXdJRFNBQXdSUUloCkFNUmlPTmIxQ1kwKzVKVkU4UFNEcTdvaFlIUERrbUg5ZVlBSHlYUVNGenJSQWlBLzhzdVNBQ0NXTDQrWWt4RlIKbHp4bTQ5SW1KcXI3MXBQZ2NmTVlKRlEzanc9PQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tCg==
    key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUc4S1o5KzczVlNvdlptTDh1ZEplKzArUXM2YzQyV1lvU2ZWSlJrbklJWHhvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFZFBnZnFmTXQwQ2J2OFJoanBOU2F2YnBQTGUrd0NSeEVIMDFqWWU3b2dtYXZzNFVHdUswQQpwRkJTWHFjS2ljQWNMZ0JDOG41MU42MlRZSDdpNHQxclhnPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
  serviceAccount:
    key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKSndJQkFBS0NBZ0VBdjEvZ3I4QWVvdVNKODg3NGdyZzhML2JjbkxpTmEwNmNPdUJSd2dTbzMxNlZ1Zk5LCmVtbFJiSlBuNEtjRVUzNXhHRlZZR3ltQVE5SktJd3QvYk1kQWpRdmZ3MFFCYjNUc3R0VTZIRy91VVBObDlEelIKZjZndGJ4bE8vcVBHWHFNYVp3c0JHQ1g4cHR1N1VOYkF3NVkzV2tvUk5tOXluWHlEWDhCZTlpVWYvWWdiQVBrNQp1aDJGc1lRTGR2MlZlbnVnS2lKSU5hUVhBNTF2OGh4clhtQVpXU2RSWHNvb3VBclpJNmpkVTBLQjZ1bUdkOEp2Ckl4Z3lxZ0t5RCszYnJoRGRjZFkybkhoOUlUTFFQcXdnejN4dWFlTFQxTjRIY2FSTzFVWEtzVjV3anlaNFlNWjIKYUY2eVpkNS93Nk9oVUc4K1R4aVVHbWN6T3I4Nnh0aU84STJPODVlaXZYK05hYlRRZzBPZ0ZqSXpUcktpSlY1WgpieXUrNTRtclo2MHA5UTU2UFVMU3p4OXhWSFdKaDA5L3h5Z1ZGSHNYQjA5NGdtRXlRM3FBWXFsdU5VS1BjMmdWCnh2cWRDMzlUUFJSdW01ZjJQdUZaWXlQOW1xNmkxbFZDMW1Gcjgra2h0UGNRaTBBamx2ckJOL2VLR1lnSVpjeWgKSDV2c0ZXdG54b1VYVjZvRkdkSGRYbThDY3M4RTJuVkNIZVczdEZTU0VjZmdZajdCQm1NSDZCL1Fsa1ZXd1Q4OApYK01rR1NKTVVlakd1Y3g2WTFoS21YbldBQytRSEprYWNBc0VGU3pCYzZnVDAwbExLQmJrc295eW1aYnNxUUwvCk1aWldNK3RkTE5DRFcwYWl5UU9zWG5hTm45eEVrTlgrVUJONFZNQm1EanBBMTJhUnl4cUxqeDh3QmNzQ0F3RUEKQVFLQ0FnQVlvQXk0Y0w5QWRLbnZyblU1MU4waHl1RXVaVzBGSHROcG5BM0pLbkpVYzhaT2JDanNRWHNSdnFKNgp2T01JbjErTUl3YzRUNG5Lc0ZlTDFPSHJyR1A1QWtzanhDOXZHUnVRbHpWb0RWc2NIWVhEL01OMGFyNlY2aXJKCkIyZnlLNGl0TTdSTFdDLy9oSXpBNVRGZXVZaWIzS1lFWENqaWJQQTJ0UGxETVJuQnRPN01uRVU2VnF3cVlIUmQKTmxveXJZKzVmRG5RZFRIazdEQklkakcycmlUMDNPTlNrQzdYSjhZekdYcUpTU2lRZ3NZanlPZ21HdW9DQ0dERApQZmNqbWRYMDNQeWYrNzBXTllTb1c5dkk5eGo2RlE3dStEYjYvNHFKVlBhMUJoTHp5SjU2elc3VkZVSmRhMWtECllwM1NUTTQydlZIcFo5Z211ZzZsSVo2YkE0d2VRUm5IcTZWenVUOUQ3Mk13UmZJOWxZdzFIbmVENE1qNWcrdDEKRU10TlRmU0oxMlZqMldULzFPU3ZaeEpCWkM5UlUvY3p5WW9YWmY4eW9uZHEyc3dMczkrd211VXVhRVhhWnBwaQpNTFFvVFJYeGp6cU1nQ1hZd3ErR2tIR3VOeHJJWFZwYkROZ2diRUFxMmhLNDV4V09Xc2R6ZTBYalhEVXA0dWFiCnkvUjB3MFQ3QXhlajRTdGdyaEYrZ2xhU1dEdzUreEEyMzVrS3VsZlUvM3hOWXMzVlZ6OW1mMSt2N2RBM1FJaE4KRFBKV2JPeGtVaExnbXp4OG5yaXlPQUd2WXBJcUJXSWxsSWtaano4eFlhaE9qUkpYQzlJbkR0d1BCM084Y2lTYwpCTC9WZU81NzJTTUhTbFlGWmlqREEvUURzM1lpQy8vdXFiTXdHVHZyQnh0U3puZ0djUUtDQVFFQTBTRmxLTndmClE5N1NQRFlKTDFHdmQvWExCYVJvT2I0VGFLN3lHVHI0djFxMys0Nmg3bXJSZ3RtTzZqTkM1TEN5MHRBU2dHTTUKd29ZTW5NNW9keXF4enZPYnE5VlE0ZFc4em1iOVM1b2RFckFQc3VwQk5seEFsdzlhVzdPcVQzTlFDL1RIM29lcAphNXY1ZHNnL2g4VUF3ZHB0TlJ2cVRkRmtNeTdBeW5sNFdmbW5yM2lFZllmUDJXeUhHdWZ1c1FvWEZTOEFHQUlxCnlYTTNhTllhRmUxKzlzcmR5THpNYnZjelVxRit2Y2pNUjZMNC9GWDlQU1N1c3YyNWhZeWFrY1R5cGNra20yQ2QKRHFESVB1ZWpmeUl4T1Y4WGlLYXVsVXExMjd5QzFNTWZYVytqcEwveGZ1cFJndWtlM2x5M3Y5ZkdvRzBvYVNwQQoxU2YxVFNNdGx1VG5PUUtDQVFFQTZrUEIvNGk1QXFDYVJaVGRTVHVzeGxvUXZhZXdvYWNsSjVyVTg2TkZ2QlEwCkl1UkZnNUlPTXREZVJBbS9hbUVXWFJFa0ZSN0ppd09BYmxncithYXNwZjFHSURGOGRUemp3cGpkYk9ZU0c4NkgKTGs4MGk5Y09YYUdYdU5TektrSEJkVFlrZGZmTVd6eGpRTllBQUZpV2VOWUU1Ukl5YXhSSXVxYkZtUmhQZGFKbQovYnU3MWNGZmJwZXJxcFZNaVZPSjVzVHBVV1piaW5uZ1hMbGFPVVNBaFlBV1lOa21iVWVycDZ1Z2R0OVkybVNSCldvMldyYVhneTV5V3VQak13TjlQZUI3TmIyWnZyeTdWUFE1aTR5aWs1R3c5Y3hZKzlXemhiRVozK1lKTWxZSE8KdHBrYy93RlVXckFpdm84dHlpMFAzY3Qyc1BIY3hWTEJoZS9XRkRheEl3S0NBUUIwUHZqcEhucHVrcFFRRGdWSwovVC9wRVlKNXIycVQ5amo1cm8wNlF4Sno0Mnh6YzFSRm43QzM2RkRObEJMeDVkcHczbUg2WmExOG1HQzRaTytpCmxlUGlZbjA4cGNWZzB4c3hMQVJPR3V0Z01PZDVEMGVTZlBNV1JOMTRMY1ZVaG9lUExkQlB2TjhLeHRlREZFcGsKSUxpTUNPczlZemY1YTVRajh6QU5IRG91NFZ3NWFHZFZFOElRWElnNUI0VWhlYmRjK2hRMlJEWWVabUg5YjAxdQp0T1luTHByYmN6Njd5OE1HZ21oZC9CaTVGVGtMb295eWlRcG15aXh1dExwU25zUTJMVG1nK0xJMHFHREd2cUdlCkVKYUdDbnFkWmZHVFlNVDMwTEIwcmNWb2ZaN2IvQ216MzNIUnI5Mk53c0lNN0Zjblk2WGIxelhVaG5LUEh5ZS8KUVp2WkFvSUJBQis4R2hXeHdjNVhUMDdKd2NoZjZ5SGJwWlRybUlQdGpwejAzcEE2dUFHb2d2K1BDTk92LzNobQp6eFZNZEwvR2N5OGNXVlQ3SExaV1BSbTFuQTl2d3NlaHJkUkNuK2VKM2hqSWVJWitERW4wQ2wvOW50S3F5V2xwCnNKSDdUbUlWRWszOGphZmxiNnVVWEtXMTE3NDBRZjRRa0Ewd0QrQnRtUVNmL3Zpa1VHOVJGcjZjcGU5cENMS0UKblY2NFp1dmJnenpkdy9XZzlobW1OUHlhcDF4R3FWcHNaWnV0RHdXU3hmQXEwY3dJcVpLOE9PeVpiYVlNYUkxcwpvd1pmdmUwSzAwc2tjUlA4UG5qdTBUZzZNSzh4SEZWTlRHM0F2N3FqaTA0TnBjY0pIYkxMS09PWGpsUUZMQlkwCjhoLzZhV3VQK3l4Q21jdVNtQ09xK0VoYW14ZVY2UjBDZ2dFQWJFdFlHZUJka0Y4T1Jnd2RxVnhDeG00T29pNWcKNHltaEVSYlM1ZkR2Qy9CS3hrMlBZbWJOYzFSNEtFVTRBRENTcGx5UWZhTWZYTWtaL2wrNDJmd3F6Sk15bEZxbApiUGljWnREd0hFNzJLREh0VXFUZHIvY0tzMk0xYThSVWliUkpYMEFJRUZtcWc1d2FER1BUYmFtSnVDbEVid0xvCjg5ZGlaV2pwWEpBRVU0UmkwTnpITGlwS1VadUVVc0FwbXB1Tk9rYnBucTNuRGlxeVZPVlBJYmtCVmJtRDBEbVAKYlFUZjlzYXp5ZGtBMkthcStRb3k1NC84c1g4Sk5KRm83OC9ERFcxZDJFeVZZY0RyN1VLVVVKS002emtwYUNQdQpqU1RPVzU5aWNidm9SbGlUa3R4RU0rdTN0N0o4Tkl4S1ZuQktjc3RNMkh3S3BFMGZFVWhqa0dsTzJ3PT0KLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
  apiServer:
    image: registry.k8s.io/kube-apiserver:v1.31.0
    certSANs:
      - 192.168.0.17
      - 192.168.0.17
      - 127.0.0.1
    disablePodSecurityPolicy: true
    auditPolicy:
      apiVersion: audit.k8s.io/v1
      kind: Policy
      rules:
        - level: Metadata
  controllerManager:
    image: registry.k8s.io/kube-controller-manager:v1.31.0
    extraArgs:
      bind-address: 0.0.0.0
  proxy:
    disabled: true
    image: registry.k8s.io/kube-proxy:v1.31.0
  scheduler:
    image: registry.k8s.io/kube-scheduler:v1.31.0
    extraArgs:
      bind-address: 0.0.0.0
  discovery:
    enabled: true
    registries:
      kubernetes:
        disabled: false
      service:
        disabled: true
  etcd:
    ca:
      crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUJmVENDQVNPZ0F3SUJBZ0lRSUtOa1BoVy80UFFCOGUzNmRmK1pEekFLQmdncWhrak9QUVFEQWpBUE1RMHcKQ3dZRFZRUUtFd1JsZEdOa01CNFhEVEkxTURVd05UQXdNRFV5TVZvWERUTTFNRFV3TXpBd01EVXlNVm93RHpFTgpNQXNHQTFVRUNoTUVaWFJqWkRCWk1CTUdCeXFHU000OUFnRUdDQ3FHU000OUF3RUhBMElBQkNINGE1bDYybXg5CnFDR09QVGtkeUlvdVFObzJqdjZwZENUY3hFcWNYTzlsa2VPa2d4eDVINlJrbFhTQ1dFUHNsa3hvUUFpNUhTblkKanFlNUs4ZG1LL0NqWVRCZk1BNEdBMVVkRHdFQi93UUVBd0lDaERBZEJnTlZIU1VFRmpBVUJnZ3JCZ0VGQlFjRApBUVlJS3dZQkJRVUhBd0l3RHdZRFZSMFRBUUgvQkFVd0F3RUIvekFkQmdOVkhRNEVGZ1FVd2hOYksxc1VWUDhBCnNHNGFCcWpOZGphRUxKSXdDZ1lJS29aSXpqMEVBd0lEU0FBd1JRSWdQbGptSmp6dVhrM3FHbjE4cU9XbmthRDYKdHBwdmFIb3l5NzVzWDRweEZLWUNJUURNUk54L2F6YWxJNEk0WFRZbG9kV1FNTzBIbE44NE5rN2VZeDlzOTJHcAp1UT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      key: LS0tLS1CRUdJTiBFQyBQUklWQVRFIEtFWS0tLS0tCk1IY0NBUUVFSUxpZEI5LzFETjdZTHJGdDVZQ2FUdXd3a2kzWDU5UUVxOWhvVUJGYTJ1U0NvQW9HQ0NxR1NNNDkKQXdFSG9VUURRZ0FFSWZocm1YcmFiSDJvSVk0OU9SM0lpaTVBMmphTy9xbDBKTnpFU3B4YzcyV1I0NlNESEhrZgpwR1NWZElKWVEreVdUR2hBQ0xrZEtkaU9wN2tyeDJZcjhBPT0KLS0tLS1FTkQgRUMgUFJJVkFURSBLRVktLS0tLQo=
    extraArgs:
      listen-metrics-urls: http://0.0.0.0:2381
    advertisedSubnets:
      - 192.168.0.140/25
  coreDNS:
    disabled: true
  allowSchedulingOnControlPlanes: true
